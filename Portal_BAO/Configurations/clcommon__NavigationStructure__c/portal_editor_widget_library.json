{
     "attributes": {
          "type": "clcommon__NavigationStructure__c"
     },
     "Name": "portal_editor_widget_library",
     "clcommon__Allow_Guest_User_Access__c": false,
     "clcommon__Description__c": null,
     "clcommon__Is_Editor_JSON__c": true,
     "clcommon__Is_Template__c": false,
     "clcommon__Related_Configuration_Mapping__c": null,
     "clcommon__Skip_Record_Access_For_Internal_Users__c": false,
     "clcommon__Unique_Name__c": "portal_editor_widget_library",
     "clcommon__data__c": {
          "start": "WidgetLibraryPage",
          "stages": {
               "WidgetLibraryPage": {
                    "layout": {
                         "name": "WidgetLibraryContainer",
                         "children": [
                              {
                                   "name": "getWidgetsDocumentFolder"
                              },
                              {
                                   "name": "widgetLibraryDataPanel"
                              },
                              {
                                   "name": "widgetLibraryDocuments"
                              },
                              {
                                   "name": "widgetsListView"
                              },
                              {
                                   "name": "widgetDetailsView"
                              },
                              {
                                   "name": "exportWidgetsListView"
                              }
                         ]
                    }
               }
          },
          "actors": {
               "getWidgetsDocumentFolder": {
                    "category": "component",
                    "type": "data-model",
                    "property": {
                         "structureName": "portal_editor_get_widget_document_folder"
                    }
               },
               "widgetLibraryDataPanel": {
                    "category": "component",
                    "type": "detail-view",
                    "property": {
                         "structureName": "portal_editor_widget_library_data_panel"
                    },
                    "appearance": {
                         "render": "not($state(widgetLibraryDataPanel).attr(isExportView);)",
                         "title": "Widget Library",
                         "expansionTop": "normal"
                    },
                    "componentActions": [
                         {
                              "name": "refreshWidgetDocumentList",
                              "actionType": "normal",
                              "appearance": {
                                   "label": "Refresh",
                                   "position": "top-right",
                                   "style": "primary"
                              },
                              "handler": {
                                   "navigation": "portal_editor_widget_library",
                                   "updates": [
                                        {
                                             "name": "$nav.reloads.add;",
                                             "value": [
                                                  "widgetLibraryDataPanel",
                                                  "widgetLibraryDocuments",
                                                  "widgetsListView",
                                                  "widgetDetailsView"
                                             ]
                                        }
                                   ],
                                   "executions": [
                                        {
                                             "name": "$resetInteraction;",
                                             "value": [
                                                  [
                                                       "widgetsListView"
                                                  ]
                                             ]
                                        }
                                   ]
                              }
                         },
                         {
                              "name": "exportWidgets",
                              "actionType": "normal",
                              "appearance": {
                                   "render": true,
                                   "label": "Export Widgets",
                                   "position": "top-right",
                                   "style": "primary"
                              },
                              "handler": {
                                   "navigation": "portal_editor_widget_library",
                                   "assignments": [
                                        {
                                             "field": "$state(widgetLibraryDataPanel).attr(isExportView);",
                                             "value": true
                                        }
                                   ],
                                   "updates": [
                                        {
                                             "name": "$nav.reloads.add;",
                                             "value": [
                                                  "widgetLibraryDocuments",
                                                  "exportWidgetsListView"
                                             ]
                                        }
                                   ],
                                   "executions": [
                                        {
                                             "name": "$resetInteraction;",
                                             "value": [
                                                  [
                                                       "exportWidgetsListView"
                                                  ]
                                             ]
                                        }
                                   ]
                              }
                         },
                         {
                              "name": "importWidgetsWarning",
                              "actionType": "normal",
                              "appearance": {
                                   "render": true,
                                   "label": "Import Widgets",
                                   "position": "top-right",
                                   "style": "primary"
                              },
                              "confirmation": {
                                   "type": "prompt",
                                   "title": "Import Widgets Warning",
                                   "content": "<p>Any widget with the same name will be replaced<p> please confirm to proceed further</p> </p>",
                                   "showConfirmButtons": true,
                                   "confirmText": "OK",
                                   "cancelText": "Cancel"
                              },
                              "handler": {
                                   "actions": [
                                        {
                                             "name": "importWidgets"
                                        }
                                   ]
                              }
                         },
                         {
                              "name": "importWidgets",
                              "actionType": "upload",
                              "property": {
                                   "uploadType": "document-tab",
                                   "accept": ".json"
                              },
                              "appearance": {
                                   "label": "Import Widgets",
                                   "position": "top-right",
                                   "style": "primary"
                              },
                              "successHandler": {
                                   "navigation": "portal_editor_widget_library",
                                   "updates": [
                                        {
                                             "name": "$nav.reloads.add;",
                                             "value": [
                                                  "widgetLibraryDataPanel",
                                                  "widgetLibraryDocuments",
                                                  "widgetsListView",
                                                  "widgetDetailsView"
                                             ]
                                        }
                                   ],
                                   "executions": [
                                        {
                                             "name": "$resetInteraction;",
                                             "value": [
                                                  [
                                                       "widgetsListView"
                                                  ]
                                             ]
                                        }
                                   ]
                              }
                         },
                         {
                              "name": "addToSite",
                              "actionType": "normal",
                              "appearance": {
                                   "render": true,
                                   "label": "Add to site",
                                   "position": "top-right",
                                   "enable": "$this.attr(selectedWidgetId); != undefined and $this.attr(selectedWidgetId); != null and $this.attr(selectedWidgetId); != \"\"",
                                   "style": "primary"
                              },
                              "handler": {
                                   "navigation": "portal_editor_widget_library",
                                   "executions": [
                                        {
                                             "name": "$addWidgetToSite;",
                                             "value": [
                                                  "$state(widgetDetailsView).attr(Widget_Config_Json_Data__c);"
                                             ]
                                        }
                                   ]
                              }
                         },
                         {
                              "name": "cancel",
                              "actionType": "normal",
                              "appearance": {
                                   "label": "Cancel",
                                   "position": "top-right",
                                   "style": "secondary"
                              },
                              "handler": {
                                   "navigation": "portal_editor_widget_library",
                                   "executions": [
                                        {
                                             "name": "$resetDialogJson;",
                                             "value": []
                                        }
                                   ]
                              }
                         }
                    ]
               },
               "widgetLibraryDocuments": {
                    "category": "component",
                    "type": "data-model",
                    "property": {
                         "structureName": "portal_editor_widget_library_documents"
                    },
                    "generalHandlers": {
                         "loaded": {
                              "navigation": "portal_editor_widget_library",
                              "assignments": [
                                   {
                                        "field": "$state(widgetLibraryDataPanel).attr(widgetDocumentsLoaded);",
                                        "value": true
                                   }
                              ],
                              "executions": [
                                   {
                                        "name": "$convertWidgetsDocumentDataToWidgetsObject;",
                                        "value": [
                                             "widgetLibraryDocuments",
                                             "widgetsListView",
                                             "exportWidgetsListView",
                                             "$state(StageBarData).attr(styleTag);"
                                        ]
                                   }
                              ]
                         }
                    }
               },
               "widgetsListView": {
                    "category": "component",
                    "type": "list-view",
                    "property": {
                         "structureName": "portal_editor_widgets_list_view"
                    },
                    "appearance": {
                         "render": "not($state(widgetLibraryDataPanel).attr(isExportView);) and $state(widgetLibraryDataPanel).attr(widgetDocumentsLoaded);",
                         "blankMessage": "No Widgets Found for the current Portal Theme",
                         "editable": false,
                         "highlight": true,
                         "autoHighlight": false,
                         "multipleSelections": false,
                         "groupBy": {
                              "field": "Type__c",
                              "ascending": true,
                              "titles": [
                                   {
                                        "title": "$this.attr(Type__c);"
                                   }
                              ]
                         },
                         "renderFields": {
                              "Id": false,
                              "Title__c": true,
                              "Description__c": false,
                              "Widget_Image_Base64_Url": false,
                              "Widget_Image_Document_Id": false,
                              "Widget_Config_Json_Data__c": false,
                              "Type__c": false,
                              "Theme__c": false
                         },
                         "noLabelFields": [
                              "Title__c"
                         ],
                         "filters": {
                              "keyword": {
                                   "filterLabel": "Search by widget Name",
                                   "fieldNames": [
                                        "Title__c"
                                   ]
                              }
                         }
                    },
                    "componentActions": [],
                    "generalHandlers": {
                         "clickRecord": {
                              "navigation": "portal_editor_widget_library",
                              "assignments": [
                                   {
                                        "field": "$state(widgetLibraryDataPanel).attr(selectedWidgetId);",
                                        "value": "$this.attr(Id);"
                                   },
                                   {
                                        "field": "$state(widgetDetailsView);",
                                        "value": "$this;"
                                   }
                              ],
                              "executions": [
                                   {
                                        "name": "$getWidgetImageBase64Url;",
                                        "value": [
                                             "$this.attr(Widget_Image_Document_Id);",
                                             "$this.attr(Widget_Image_Base64_Url);",
                                             "$this.attr(Id);"
                                        ]
                                   },
                                   {
                                        "name": "$getWidgetConfigJson;",
                                        "value": [
                                             "$this.attr(Id);",
                                             "$this.attr(Widget_Config_Json_Data__c);"
                                        ]
                                   }
                              ]
                         }
                    }
               },
               "widgetDetailsView": {
                    "category": "component",
                    "type": "queue-view",
                    "property": {
                         "structureName": "portal_editor_widget_details_view"
                    },
                    "appearance": {
                         "render": "not($state(widgetLibraryDataPanel).attr(isExportView);)",
                         "editable": false,
                         "textBefore": "<h3 id=\"none-selected-message\">Select a widget to view more Details</h3>",
                         "renderText": {
                              "textBefore": "$state(widgetLibraryDataPanel).attr(selectedWidgetId); == null or $state(widgetLibraryDataPanel).attr(selectedWidgetId); == undefined or $state(widgetLibraryDataPanel).attr(selectedWidgetId); == \"\""
                         },
                         "renderFields": {
                              "Id": false,
                              "Title__c": true,
                              "Description__c": false,
                              "Widget_Image_Base64_Url": false,
                              "Widget_Image_Document_Id": false,
                              "Widget_Config_Json_Data__c": false,
                              "Type__c": false,
                              "Theme__c": false
                         },
                         "templates": {
                              "record": [
                                   {
                                        "condition": "$this.attr(Widget_Image_Document_Id); != undefined and $this.attr(Widget_Image_Document_Id); != null",
                                        "template": "<div class=\"details-container\"><h2 class=\"title\">$this.attr(Title__c);</h2><h3>Description</h3><div class=\"description\">$this.attr(Description__c);</div></div><div class=\"image-container\"><img src=\"$this.attr(Widget_Image_Base64_Url);\"></div>"
                                   },
                                   {
                                        "condition": "$this.attr(Widget_Image_Document_Id); == undefined or $this.attr(Widget_Image_Document_Id); == null",
                                        "template": "<div class=\"details-container\"><h2 class=\"title\">$this.attr(Title__c);</h2><h3>Description</h3><div class=\"description\">$this.attr(Description__c);</div></div><div class=\"no-image-text\">Image Not Avialable For Preview</div>"
                                   }
                              ]
                         }
                    }
               },
               "exportWidgetsListView": {
                    "category": "component",
                    "type": "list-view",
                    "property": {
                         "structureName": "portal_editor_widgets_list_view"
                    },
                    "appearance": {
                         "render": "$state(widgetLibraryDataPanel).attr(isExportView); and $state(widgetLibraryDataPanel).attr(widgetDocumentsLoaded);",
                         "blankMessage": "No Widgets Found for the current Portal Theme",
                         "editable": false,
                         "title": "Export Widgets",
                         "textBefore": "Please select the widgets to export",
                         "multipleSelections": true,
                         "expansionTop": "normal",
                         "groupBy": {
                              "field": "Type__c",
                              "ascending": true,
                              "titles": [
                                   {
                                        "title": "$this.attr(Type__c);"
                                   }
                              ]
                         },
                         "renderFields": {
                              "Id": false,
                              "Title__c": true,
                              "Description__c": true,
                              "Widget_Image_Base64_Url": false,
                              "Widget_Image_Document_Id": false,
                              "Widget_Config_Json_Data__c": false,
                              "Type__c": false,
                              "Theme__c": false
                         },
                         "noLabelFields": [
                              "Title__c"
                         ],
                         "filters": {
                              "keyword": {
                                   "filterLabel": "Search by widget Name",
                                   "fieldNames": [
                                        "Title__c"
                                   ]
                              }
                         }
                    },
                    "componentActions": [
                         {
                              "name": "exportWidgets",
                              "actionType": "normal",
                              "appearance": {
                                   "render": true,
                                   "label": "Export",
                                   "enable": "$interaction.attr(selectedIds).count(); > 0",
                                   "position": "top-right",
                                   "style": "primary"
                              },
                              "handler": {
                                   "navigation": "portal_editor_widget_library",
                                   "executions": [
                                        {
                                             "name": "$exportWidgets;",
                                             "value": [
                                                  "exportWidgetsListView",
                                                  "$interaction.attr(selectedIds);"
                                             ]
                                        }
                                   ]
                              }
                         },
                         {
                              "name": "cancel",
                              "actionType": "normal",
                              "appearance": {
                                   "label": "Cancel",
                                   "position": "top-right",
                                   "style": "secondary"
                              },
                              "handler": {
                                   "navigation": "portal_editor_widget_library",
                                   "assignments": [
                                        {
                                             "field": "$state(widgetLibraryDataPanel).attr(isExportView);",
                                             "value": false
                                        }
                                   ]
                              }
                         }
                    ],
                    "generalHandlers": {}
               }
          },
          "settings": {
               "locale": "en-us",
               "currency": "USD",
               "minimumFractionDigits": 2
          },
          "messages": {
               "loadingAnimationText": "<span><span class=\"fa fa-spinner\"></span>Loading...</span>",
               "savingAnimationText": "<span><span class=\"fa fa-spinner\"></span>Saving...</span>",
               "submitAnimationText": "<span><span class=\"fa fa-spinner\"></span>Sending...</span>",
               "loadingFailureText": "<span><span class=\"fa fa-exclamation-triangle\"></span>Fail to load</span>",
               "saveSuccessText": "<span><span class=\"fa fa-check\"></span>Succeed</span>",
               "saveFailureText": "<span><span class=\"fa fa-exclamation-triangle\"></span>Fail to save</span>",
               "submitSuccessText": "<span><span class=\"fa fa-check\"></span>Succeed</span>",
               "submitFailureText": "<span><span class=\"fa fa-exclamation-triangle\"></span>Fail to submit</span>",
               "submitExpirationText": "<span><span class=\"fa fa-exclamation-triangle\"></span>Fail to submit</span>",
               "uploadFailureText": "<span><span class=\"fa fa-exclamation-triangle\"></span>Fail to upload</span>",
               "uploadFileTooLargeError": "<span><span class=\"fa fa-exclamation-triangle\"></span>File too large</span>"
          }
     },
     "clcommon__External_ID__c": "portal_editor_widget_library",
     "clcommon__Release_Checksum__c": "d3f76cc5b2c1648ad53892ead6411f1ce45a00eb89a041266ecb08c346d5b09c"
}